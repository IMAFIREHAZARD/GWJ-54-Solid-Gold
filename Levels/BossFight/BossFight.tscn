[gd_scene load_steps=19 format=2]

[ext_resource path="res://Entities/NPCs/Boss.tscn" type="PackedScene" id=1]
[ext_resource path="res://Entities/Objects/Pushables/KickCube.tscn" type="PackedScene" id=2]
[ext_resource path="res://Levels/BossFight/ShieldTower.tscn" type="PackedScene" id=3]
[ext_resource path="res://Entities/Player/Player.tscn" type="PackedScene" id=4]
[ext_resource path="res://Levels/BossFight/BossFight.gd" type="Script" id=5]
[ext_resource path="res://Levels/CommonInfrastructure/LevelBackground.tscn" type="PackedScene" id=6]
[ext_resource path="res://Levels/BossFight/BossFightWallsAndGround.tscn" type="PackedScene" id=7]
[ext_resource path="res://Levels/BossFight/BoxSensor.tscn" type="PackedScene" id=8]
[ext_resource path="res://Levels/BossFight/LightUpLine.gd" type="Script" id=9]
[ext_resource path="res://Levels/BossFight/CritterBoxConveyor.tscn" type="PackedScene" id=10]
[ext_resource path="res://Levels/BossFight/DirectionalTowerPlatform.tscn" type="PackedScene" id=11]
[ext_resource path="res://Music/Boss_Fight_SOLID_GOLD.ogg" type="AudioStream" id=12]
[ext_resource path="res://sfx/PlayRandomNoises2.gd" type="Script" id=13]

[sub_resource type="CircleShape2D" id=2]
radius = 576.0

[sub_resource type="Curve2D" id=3]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 64, 608, -86.1527, 58.434, 86.1527, -58.434, 64, 480, 0, 0, 0, 0, 256, 448 )
}

[sub_resource type="Animation" id=5]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( -1454, 1428 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("SpriteRoot/AnimatedSprite:animation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ "RunNW" ]
}

[sub_resource type="Animation" id=6]
resource_name = "WalkIn"
tracks/0/type = "value"
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Vector2( -1454, 1428 ), Vector2( -1278, 1335 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("SpriteRoot/AnimatedSprite:flip_h")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ true, false ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("SpriteRoot/AnimatedSprite:animation")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 0.2, 1 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 1,
"values": [ "RunNW", "RunNW", "IdleNW" ]
}

[sub_resource type="NavigationPolygon" id=1]
vertices = PoolVector2Array( 970, 424, 1300, 574, 635, 900, 431, 223, 1480, -268, 1911, -73, -321, 412, 263, 127 )
polygons = [ PoolIntArray( 0, 1, 2, 3 ), PoolIntArray( 4, 5, 0, 3 ), PoolIntArray( 2, 6, 7, 3 ) ]
outlines = [ PoolVector2Array( -321, 412, 635, 900, 1300, 574, 970, 424, 1911, -73, 1480, -268, 431, 223, 263, 127 ) ]

[node name="BossFight" type="Node2D"]
script = ExtResource( 5 )

[node name="YSort" type="YSort" parent="."]

[node name="DirectionalTowerPlatform" parent="YSort" instance=ExtResource( 11 )]
position = Vector2( -1253, -71 )

[node name="PushBlock2" parent="YSort/DirectionalTowerPlatform/YSort" index="2"]
position = Vector2( 260, 138 )

[node name="PushBlock3" parent="YSort/DirectionalTowerPlatform/YSort" index="3"]
position = Vector2( 255, -126 )

[node name="DirectionalTowerPlatform2" parent="YSort" instance=ExtResource( 11 )]
position = Vector2( 1522, 1348 )

[node name="BossRoot" type="Node2D" parent="YSort"]
position = Vector2( 1444, 60 )
__meta__ = {
"_edit_group_": true
}

[node name="pos" type="Node2D" parent="YSort/BossRoot"]
position = Vector2( -24, -364 )

[node name="Boss" parent="YSort/BossRoot/pos" instance=ExtResource( 1 )]

[node name="BossLogic" type="Node2D" parent="YSort"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="YSort/BossLogic"]
position = Vector2( 1024, 192 )
scale = Vector2( 2, 1 )
shape = SubResource( 2 )

[node name="Path2D" type="Path2D" parent="YSort/BossLogic"]
scale = Vector2( 2, 2 )
curve = SubResource( 3 )

[node name="WallsAndGround" parent="YSort" instance=ExtResource( 7 )]

[node name="ShieldTower" parent="YSort" instance=ExtResource( 3 )]
unique_name_in_owner = true
position = Vector2( 1280, 448 )
box_sensors = [ NodePath("../PushBlocks/BoxSensor2"), NodePath("../PushBlocks/BoxSensor3") ]

[node name="ShieldTower2" parent="YSort" instance=ExtResource( 3 )]
unique_name_in_owner = true
position = Vector2( 384, 128 )
box_sensors = [ NodePath("../PushBlocks/BoxSensor5"), NodePath("../PushBlocks/BoxSensor6") ]

[node name="PushBlocks" type="YSort" parent="YSort"]

[node name="PushBlock" parent="YSort/PushBlocks" instance=ExtResource( 2 )]
position = Vector2( -1536, 1088 )
scale = Vector2( 4, 4 )

[node name="PushBlock4" parent="YSort/PushBlocks" instance=ExtResource( 2 )]
position = Vector2( -512, 1344 )
scale = Vector2( 4, 4 )

[node name="BoxSensor2" parent="YSort/PushBlocks" instance=ExtResource( 8 )]
position = Vector2( 1792, 448 )

[node name="Line2D2" type="Line2D" parent="YSort/PushBlocks"]
position = Vector2( 2304, -384 )
points = PoolVector2Array( -1024, 832, -768, 704, -512, 832 )
default_color = Color( 0.196078, 0.196078, 0.196078, 1 )
script = ExtResource( 9 )
box_sensor = NodePath("../BoxSensor2")

[node name="BoxSensor3" parent="YSort/PushBlocks" instance=ExtResource( 8 )]
position = Vector2( 1408, 640 )

[node name="Line2D3" type="Line2D" parent="YSort/PushBlocks"]
position = Vector2( 2432, -320 )
points = PoolVector2Array( -1024, 960, -1280, 832, -1152, 768 )
default_color = Color( 0.196078, 0.196078, 0.196078, 1 )
script = ExtResource( 9 )
box_sensor = NodePath("../BoxSensor3")

[node name="Line2D5" type="Line2D" parent="YSort/PushBlocks"]
position = Vector2( 1024, -1024 )
points = PoolVector2Array( -512, 832, -256, 960, -640, 1152 )
default_color = Color( 0.196078, 0.196078, 0.196078, 1 )
script = ExtResource( 9 )
box_sensor = NodePath("../BoxSensor6")

[node name="Line2D6" type="Line2D" parent="YSort/PushBlocks"]
position = Vector2( 1152, -960 )
points = PoolVector2Array( -768, 1088, -1024, 960 )
default_color = Color( 0.196078, 0.196078, 0.196078, 1 )
script = ExtResource( 9 )
box_sensor = NodePath("../BoxSensor5")

[node name="PushBlock2" parent="YSort/PushBlocks" instance=ExtResource( 2 )]
position = Vector2( 0, 64 )
scale = Vector2( 4, 4 )

[node name="PushBlock3" parent="YSort/PushBlocks" instance=ExtResource( 2 )]
position = Vector2( 640, -256 )
scale = Vector2( 4, 4 )

[node name="PushBlock5" parent="YSort/PushBlocks" instance=ExtResource( 2 )]
position = Vector2( 1920, 384 )
scale = Vector2( 4, 4 )

[node name="PushBlock6" parent="YSort/PushBlocks" instance=ExtResource( 2 )]
position = Vector2( 1280, 704 )
scale = Vector2( 4, 4 )

[node name="BoxSensor5" parent="YSort/PushBlocks" instance=ExtResource( 8 )]
position = Vector2( 128, 0 )

[node name="BoxSensor6" parent="YSort/PushBlocks" instance=ExtResource( 8 )]
position = Vector2( 512, -192 )

[node name="Player" parent="YSort" instance=ExtResource( 4 )]
position = Vector2( -1454, 1428 )

[node name="AnimatedSprite" parent="YSort/Player/SpriteRoot" index="0"]
animation = "RunNW"
frame = 2
flip_h = true

[node name="AnimationPlayer2" type="AnimationPlayer" parent="YSort/Player"]
anims/RESET = SubResource( 5 )
anims/WalkIn = SubResource( 6 )

[node name="CritterBoxConveyor" parent="YSort" instance=ExtResource( 10 )]
position = Vector2( -1448, -907 )

[node name="CritterBoxConveyor2" parent="YSort" instance=ExtResource( 10 )]
position = Vector2( 2199, 1637 )

[node name="NavigationPolygonInstance" type="NavigationPolygonInstance" parent="."]
visible = false
navpoly = SubResource( 1 )

[node name="LevelBackground" parent="." instance=ExtResource( 6 )]

[node name="BGMusic" type="Node2D" parent="."]
script = ExtResource( 13 )

[node name="SolidGold" type="AudioStreamPlayer" parent="BGMusic"]
stream = ExtResource( 12 )
volume_db = -9.0
autoplay = true
bus = "Music"

[editable path="YSort/DirectionalTowerPlatform"]
[editable path="YSort/Player"]
